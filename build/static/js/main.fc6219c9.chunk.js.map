{"version":3,"sources":["components/Filter.js","services/persons.js","components/PersonFrom.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","newFilter","setNewFilter","value","onChange","e","target","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","PersonForm","setMessage","newName","newNumber","persons","setPersons","setNewName","setNewNumber","onClick","preventDefault","nameObj","name","number","some","p","toLowerCase","personUpdate","find","window","confirm","personsService","retP","map","catch","error","setTimeout","concat","type","Persons","filter","includes","key","n","handleDelete","Notification","message","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","console","log","App","useState","useEffect","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fc6219c9.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({newFilter, setNewFilter}) => {\r\n\r\n    const addFilter = (e) => {\r\n        setNewFilter(e.target.value)  \r\n        }\r\n        \r\n    return (\r\n        <div>\r\n            filter shown with \r\n            <input \r\n            value={newFilter} \r\n            onChange={addFilter}/>\r\n        </div>\r\n    )\r\n} \r\n\r\nexport default Filter","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\n\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n\r\n  const del = (id) => {\r\n      const request = axios.delete(`${baseUrl}/${id}`)\r\n      return request.then(response => response.data)\r\n  }\r\n  \r\n  export default { getAll, create, update, del}","import React from 'react'\r\nimport personsService from '../services/persons'\r\n\r\nconst PersonForm = ({setMessage, newName, newNumber, persons, setPersons, setNewName, setNewNumber}) => {\r\n    \r\n  const addPerson = (e) => {\r\n    e.preventDefault()\r\n    const nameObj = {\r\n      name: newName,\r\n      number: newNumber\r\n    } \r\n      \r\n    if(persons.some(p => p.name.toLowerCase() === newName.toLowerCase()))\r\n    { \r\n      const personUpdate = persons.find(p => p.name.toLowerCase() === newName.toLowerCase())\r\n      \r\n      if (window.confirm(`${newName} is already added to the phonebook, \r\n      replace the old number with a new one?`)) {  \r\n        personsService\r\n          .update(personUpdate.id, nameObj)\r\n          .then(retP => {\r\n            setPersons(persons.map(p => p.id === personUpdate.id ? retP : p))\r\n            setNewName('')\r\n            setNewNumber('')\r\n\r\n          })\r\n          .catch(error => {\r\n            setMessage(\r\n              `Information of ${personUpdate.name} has already been removed from server`\r\n            )\r\n            setTimeout(() => {\r\n              setMessage(null)\r\n            }, 5000)   \r\n          })\r\n         } \r\n       \r\n        } else{\r\n    personsService\r\n      .create(nameObj)\r\n      .then(retP => {\r\n        setPersons(persons.concat(retP))\r\n        setNewName('')\r\n        setNewNumber('')\r\n\r\n        setMessage(\r\n          `Added ${nameObj.name}`\r\n        )\r\n        setTimeout(() => {\r\n          setMessage(null)\r\n        }, 2000) \r\n        })\r\n        .catch(error => {\r\n          setMessage(\r\n            `${error.response.data.error}`\r\n          )\r\n          setTimeout(() => {\r\n            setMessage(null)\r\n          }, 5000)   \r\n        }) \r\n\r\n      \r\n      }\r\n\r\n    }\r\n    \r\n  \r\n  const addName = (e) => {\r\n    setNewName(e.target.value)\r\n  }\r\n\r\n  const addNumber = (e) => {\r\n    setNewNumber(e.target.value)\r\n  }\r\n\r\n\r\n    return (\r\n        <form>\r\n        <div>\r\n          name: <input value={newName} onChange={addName} />\r\n        </div>\r\n        <div>\r\n          number: <input value={newNumber} onChange={addNumber} />\r\n        </div>\r\n        <div>\r\n          <button onClick={addPerson} type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n} \r\n\r\nexport default PersonForm","import React from 'react'\r\nimport personsService from '../services/persons'\r\n\r\nconst Persons = ({persons,newFilter, setPersons}) => {\r\n\r\n    const handleDelete = (p) => {\r\n        if (window.confirm(`Delete ${p.name} ?`)) {   \r\n            \r\n            \r\n            personsService\r\n            .del(p.id)\r\n            .then(() => {\r\n                setPersons(persons.filter(n => n.id !== p.id))\r\n            })\r\n           \r\n            \r\n          }\r\n    }\r\n    \r\n    return(\r\n        persons.filter(p => p.name.toLowerCase().includes(newFilter.toLowerCase()))\r\n            .map(p => \r\n            <div key={p.name}>\r\n                {p.name} {p.number}\r\n                <button key={p.name} onClick={() => handleDelete(p)}>delete</button>\r\n                \r\n                </div>)  \r\n    )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n\r\n    const added = {        \r\n        color: 'green',\r\n        background: 'lightgrey',\r\n        fontSize: '20px',\r\n        borderStyle: 'solid',\r\n        borderRadius: '5px',\r\n        padding: '10px',\r\n        marginBottom: '10px'\r\n    }    \r\n\r\n    const error = {        \r\n        color: 'red',\r\n        background: 'lightgrey',\r\n        fontSize: '20px',\r\n        borderStyle: 'solid',\r\n        borderRadius: '5px',\r\n        padding: '10px',\r\n        marginBottom: '10px'\r\n    }  \r\n\r\n\r\n    if (message === null) {\r\n      return null\r\n    }  else if(message.includes('Added')){\r\n    return (\r\n        \r\n      <div style={added}>\r\n        {message}\r\n      </div>\r\n    )    } else if(message.includes('Information')){\r\n    return (\r\n        <div style={error}>\r\n          {message}\r\n        </div>\r\n      )\r\n    }\r\n    else {\r\n      return(\r\n        <div style={error}>\r\n          {console.log(message)}\r\n          {message}\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonFrom'\nimport Persons from './components/Persons'\nimport personsService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [ message, setMessage] = useState(null)\n\n  useEffect(() => {\n    personsService\n      .getAll()\n        .then(p => {\n          setPersons(p)          \n        })\n\n  },[])\n \n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message}/>\n      <Filter newFilter={newFilter} setNewFilter={setNewFilter}/>\n      \n      <h3>add a new</h3>\n      \n      <PersonForm \n        setMessage={setMessage}\n        newName={newName} \n        newNumber={newNumber}\n        persons={persons}\n        setPersons={setPersons}\n        setNewName={setNewName}\n        setNewNumber={setNewNumber}   \n       />\n      \n      <h3>Numbers</h3>      \n      \n      <Persons setPersons={setPersons} persons={persons} newFilter={newFilter} />      \n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}